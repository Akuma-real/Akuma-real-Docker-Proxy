import{_ as m,E as p,c as u,J as n,w as l,m as e,a3 as _,a4 as g,t as h,o as k}from"./chunks/framework.BL4nn8S5.js";const b={data(){return{originalImage:"",pullCommand:"docker pull mirror.anye.in/stilleshan/frpc:latest",tagCommand:"docker tag mirror.anye.in/stilleshan/frpc:latest stilleshan/frpc:latest",rmiCommand:"docker rmi mirror.anye.in/stilleshan/frpc:latest"}},methods:{generateCommands(){let s=this.originalImage.replace(/^(?:(?:(?<registry>[^\/]+)\/)?(?<repo>[^\/]+)\/)?(?<name>[^:]+)(?::(?<tag>[^:]+))?$/,function(c,t,d,i,o){if(o=o===void 0?"latest":o,t=t===void 0?"docker.io":t,d=d===void 0?"library":d,i===void 0||t!="docker.io"&&t!="ghcr.io"&&t!="gcr.io"&&t!="k8s.gcr.io"&&t!="registry.k8s.io"&&t!="quay.io"&&t!="mcr.microsoft.com"){alert("暂不支持该镜像仓库的镜像加速服务！");return}return t+"/"+d+"/"+i+":"+o});s=s.replace("docker.io","mirror.anye.in"),s=s.replace("ghcr.io","ghcr.anye.in"),s=s.replace("gcr.io","gcr.anye.in"),s=s.replace("k8s.gcr.io","k8s.anye.in"),s=s.replace("registry.k8s.io","k8s.anye.in"),s=s.replace("quay.io","quay.anye.in"),s=s.replace("mcr.microsoft.com","mcr.anye.in"),this.pullCommand="docker pull "+s,this.tagCommand="docker tag "+s+" "+this.originalImage,this.rmiCommand="docker rmi "+s}}},L=JSON.parse('{"title":"","description":"","frontmatter":{"layout":"home","hero":{"name":"Docker Proxy","text":"Form Anye","tagline":"多平台容器镜像代理服务，支持 Docker Hub, GitHub, Google, k8s, Quay, Microsoft 等镜像仓库","image":"/Dockerlogo.png","alt":"Dockerlogo","actions":[{"theme":"brand","text":"使用文档 - 2min ⏱️","link":"/docs/use"}]}},"headers":[],"relativePath":"index.md","filePath":"index.md"}'),f=e("hr",null,null,-1),C=e("h1",{class:"title"},"快捷命令",-1),y=e("h3",{class:"step1"},"第一步：输入原始镜像地址获取命令",-1),v={class:"shiki shiki-themes github-light github-dark vp-code"},x={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},F=e("h3",{class:"step2"},"第二步：代理拉取镜像",-1),B={class:"language-bash vp-adaptive-theme"},D=e("button",{title:"Copy Code",class:"copy"},null,-1),I=e("span",{class:"lang"},"bash",-1),w={class:"shiki shiki-themes github-light github-dark vp-code"},q={class:"line"},N={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},P=e("h3",{class:"step3"},"第三步：重命名镜像",-1),V={class:"language-bash vp-adaptive-theme"},E=e("button",{title:"Copy Code",class:"copy"},null,-1),G=e("span",{class:"lang"},"bash",-1),H={class:"shiki shiki-themes github-light github-dark vp-code"},J={class:"line"},M={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},S=e("h3",{class:"step4"},"第四步：删除代理镜像",-1),z={class:"language-bash vp-adaptive-theme"},A=e("button",{title:"Copy Code",class:"copy"},null,-1),O=e("span",{class:"lang"},"bash",-1),Q={class:"shiki shiki-themes github-light github-dark vp-code"},T={class:"line"},U={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}};function j(s,c,t,d,i,o){const a=p("center");return k(),u("div",null,[f,n(a,null,{default:l(()=>[C]),_:1}),n(a,null,{default:l(()=>[y]),_:1}),e("pre",v,[e("code",null,[e("span",x,[_(e("input",{type:"input-vue","onUpdate:modelValue":c[0]||(c[0]=r=>i.originalImage=r),placeholder:"请输入原始镜像地址",style:{width:"100%",padding:"0.5em",margin:"0.5em 0",border:"1px solid #ccc","border-radius":"5px","box-sizing":"border-box"}},null,512),[[g,i.originalImage]])])])]),n(a,null,{default:l(()=>[e("button",{onClick:c[1]||(c[1]=(...r)=>o.generateCommands&&o.generateCommands(...r))},"获取命令")]),_:1}),n(a,null,{default:l(()=>[F]),_:1}),e("div",B,[D,I,e("pre",w,[e("code",null,[e("span",q,[e("span",N,h(i.pullCommand),1)])])])]),n(a,null,{default:l(()=>[P]),_:1}),e("div",V,[E,G,e("pre",H,[e("code",null,[e("span",J,[e("span",M,h(i.tagCommand),1)])])])]),n(a,null,{default:l(()=>[S]),_:1}),e("div",z,[A,O,e("pre",Q,[e("code",null,[e("span",T,[e("span",U,h(i.rmiCommand),1)])])])])])}const R=m(b,[["render",j]]);export{L as __pageData,R as default};
